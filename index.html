<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Play Analysis</title>
    <link rel="stylesheet" href="css/gameContext.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="dots-nav">
        <ul>
            <li><a href="#intro" class="active" data-section="intro"></a></li>
            <li><a href="#distribution" data-section="distribution"></a></li>
            <li><a href="#yards" data-section="yards"></a></li>
            <li><a href="#outcome" data-section="outcome"></a></li>
            <li><a href="#situation" data-section="situation"></a></li>
            <li><a href="#gameContext" data-title="Game Context Analysis" data-section="gameContext"></a></li>
            <li><a href="#conclusions" data-section="conclusions"></a></li>
        </ul>
    </nav>

    <main>
        <section id="intro" class="section active">
            <div class="content">
                <h1>NFL Play Analysis</h1>
                <p>Explore how teams in the NFL call run and pass plays and how their effectiveness changes across different game situations.</p>
                <div class="scroll-hint">
                    <p>Scroll to explore</p>
                    <div class="arrow"></div>
                </div>
            </div>
        </section>

        <section id="distribution" class="section">
            <div class="content">
                <h2>Team Performance Analysis</h2>
                <p>Analyze how each team performs in rushing and passing plays, both in terms of average yards per play and total yards gained.</p>
                
                <div class="visualization-container">
                    <div class="chart-container">
                        <div id="playTypeChart"></div>
                        <p class="chart-description">Average yards gained per play type for each team.</p>
                    </div>
                    <div class="chart-container">
                        <div id="scatterChart"></div>
                        <p class="chart-description">Total rushing vs passing yards for each team.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="yards" class="section">
            <div class="content">
                <h2>Situational Success</h2>
                <p class="description">
                    Analyze how teams perform on different downs. This visualization breaks down 
                    the success rates of passing and rushing plays by down number, revealing how 
                    teams adapt their strategies as they progress through each set of downs.
                </p>
                <div id="yardsChart" class="chart"></div>
            </div>
        </section>

        <section id="outcome" class="section">
            <div class="content">
                <h2>Coming Soon</h2>
                <p class="description">
                    New visualization coming soon! This section will feature an interactive analysis
                    of NFL play data, providing insights into strategic decision-making in football.
                </p>
                <div id="outcomeChart" class="chart"></div>
            </div>
        </section>

        <section id="situation" class="section">
            <div class="content">
                <h2>Turnover Location Analysis</h2>
                <p class="description">
                    Explore where turnovers occur on the football field. This heatmap visualization shows the 
                    turnover rates for different field locations, separated by run and pass plays. Red areas 
                    indicate higher turnover rates, while green areas show safer zones with fewer turnovers.
                </p>
                <div id="turnoverChart" class="chart"></div>
            </div>
        </section>

        <section id="gameContext" class="section">
            <div class="content">
                <h2>Game Context Analysis</h2>
                <p class="section-description">
                    The decision to run or pass isn't made in isolation. Field position and game situation 
                    all play crucial roles in determining play selection. Explore how teams adapt their strategy 
                    based on these factors.
                </p>
                <div class="visualization-container">
                    <div class="controls-panel">
                        <div class="filter-group">
                            <h3>Game Situation</h3>
                            <div class="down-filter">
                                <label>Down:</label>
                                <div class="down-buttons">
                                    <button class="down-button" data-down="">All</button>
                                    <button class="down-button" data-down="1">1st</button>
                                    <button class="down-button" data-down="2">2nd</button>
                                    <button class="down-button" data-down="3">3rd</button>
                                    <button class="down-button" data-down="4">4th</button>
                                </div>
                            </div>
                            <div class="yards-to-go-filter">
                                <label>Yards to Go: <span id="ydsToGoValue">1 - 20+ yards</span></label>
                                <div id="ydsToGoSlider" class="slider-container"></div>
                                <div class="slider-labels">
                                    <span>1</span>
                                    <span>5</span>
                                    <span>10</span>
                                    <span>15</span>
                                    <span>20+</span>
                                </div>
                            </div>
                            <div class="quarter-filter">
                                <label>Quarter:</label>
                                <select id="quarterSelect" class="form-control">
                                    <option value="">All Quarters</option>
                                    <option value="1">1st Quarter</option>
                                    <option value="2">2nd Quarter</option>
                                    <option value="3">3rd Quarter</option>
                                    <option value="4">4th Quarter</option>
                                </select>
                            </div>
                            <div class="score-filter">
                                <label>Score Differential:</label>
                                <select id="scoreDiff">
                                    <option value="all">All Situations</option>
                                    <option value="leading">Leading by 7+</option>
                                    <option value="close">Within 7 Points</option>
                                    <option value="trailing">Trailing by 7+</option>
                                </select>
                            </div>
                        </div>
                        <div class="filter-group">
                            <label for="teamSelect">Select Team:</label>
                            <select id="teamSelect" class="form-control">
                                <option value="">All Teams</option>
                            </select>
                        </div>
                    </div>
                    <div class="main-visualization">
                        <div id="fieldPositionChart"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="conclusions" class="section">
            <div class="content">
                <h2>Conclusions</h2>
                <div class="conclusions-content">
                    <p class="main-conclusion">
                        Through this comprehensive analysis of NFL play-calling patterns, we've uncovered 
                        several key insights about how teams approach the run-pass balance in different situations.
                    </p>
                    
                    <div class="key-findings">
                        <h3>Key Findings</h3>
                        <ul>
                            <li>Game context significantly influences play-calling decisions, with teams adjusting their 
                                strategies based on field position, down, and distance.</li>
                            <li>Score differential plays a crucial role in determining run-pass balance, 
                                particularly in late-game situations.</li>
                            <li>Teams show distinct patterns in their play-calling preferences, reflecting 
                                different offensive philosophies and strengths.</li>
                        </ul>
                    </div>

                    <div class="implications">
                        <h3>Implications</h3>
                        <p>
                            These findings highlight the complexity of NFL play-calling and the importance 
                            of situational awareness in football strategy. Understanding these patterns can 
                            help in predicting and countering opponent tendencies, while also providing 
                            insights for optimizing one's own play-calling decisions.
                        </p>
                    </div>

                    <div class="about-project">
                        <h3>About This Project</h3>
                        <p>
                            This visualization project was developed as part of CS4460 at Georgia Tech. 
                            It uses D3.js to analyze and visualize NFL play-by-play data, providing 
                            interactive insights into football strategy and decision-making.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script type="module" src="js/main.js"></script>
</body>
</html>
